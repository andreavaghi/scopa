<template name="play">
  {{> signupLogin}}
  {{#if currentUser}}
    {{> status}}
    {{#unless inProgress}}
      {{> score}}
    {{/unless}}
    {{#if inProgress}}
      {{> table}}
      {{> hand}}
    {{/if}}
    {{> pile}}
  {{/if}}
</template>

<template name="status">
  <p>
    <a href="/">&larr;Indietro</a>
  </p>
  <h2>Partita fra te e {{otherPlayer.username}} {{#if inProgress}}{{#if yourTurn}} (Tuo turno) {{/if}}{{/if}}</h2>
</template>

<template name="score">
  <h1>Partita finita! {{message}}</h1>

  <table>
    <tr>
      <th>Category</th>
      <th>You</th>
      <th>{{otherPlayer.username}}</th>
    </tr>
    <tr>
      <td>Carte</td>
      <td>{{player.score.mostCards}}</td>
      <td>{{otherPlayer.score.mostCards}}</td>
    </tr>
    <tr>
      <td>Ori</td>
      <td>{{player.score.mostCoins}}</td>
      <td>{{otherPlayer.score.mostCoins}}</td>
    </tr>
    <tr>
      <td>Sette Bello</td>
      <td>{{player.score.setteBello}}</td>
      <td>{{otherPlayer.score.setteBello}}</td>
    </tr>
    <tr>
      <td>Primiera</td>
      <td>{{player.score.primiera}}</td>
      <td>{{otherPlayer.score.primiera}}</td>
    </tr>
    <tr>
      <td>Scopa</td>
      <td>{{player.score.scopa}}</td>
      <td>{{otherPlayer.score.scopa}}</td>
    </tr>
    <tr>
      <td>Totale</td>
      <td>{{player.score.total}}</td>
      <td>{{otherPlayer.score.total}}</td>
    </tr>
  </table>
</template>

<template name="table">
  <div id="table">
    <h2>Banco</h2>
    {{#each table}}
      <div class="card {{suit}}">
        <div>{{name}}</div>
        <div>{{suit}}</div>
      </div>
    {{/each}}
  </div>
</template>

<template name="hand">
  <div id="hand">
    <h2>Mano</h2>
    {{#each player.hand}}
    <div class="card {{suit}}">
      <div>{{name}}</div>
      <div>{{suit}}</div>
    </div>
    {{/each}}
  </div>
</template>

<template name="pile">
  <div id="pile">
    <h2>Carte Prese</h2>
    <ul>
      {{#each player.pile}}
      <li>{{name}} di {{suit}}</li>
      {{/each}}
    </ul>
  </div>
</template>
